(function(t){function e(e){for(var a,n,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&p.push(o[n][0]),o[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,i=1;i<r.length;i++){var c=r[i];0!==o[c]&&(a=!1)}a&&(s.splice(e--,1),t=n(n.s=r[0]))}return t}var a={},o={app:0},s=[];function n(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=a,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);var a=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},s=[],n=r("2877"),i={},c=Object(n["a"])(i,o,s,!1,null,null,null),l=c.exports,u=r("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"section-program"},[a("div",{staticClass:"container cont-program"},[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"cont-form-search"},[a("form",{staticClass:"form-search "},[a("div",{staticClass:"input-group mt-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.channel,expression:"channel"}],staticClass:"form-control",attrs:{id:"search",type:"text",name:"search",placeholder:"Поиск в описании канала"},domProps:{value:t.channel},on:{input:function(e){e.target.composing||(t.channel=e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:""!==t.channel.trim(),expression:"channel.trim() !== ''"}],staticClass:"input-group-text",attrs:{id:"close"},on:{click:function(e){t.channel=""}}},[a("img",{attrs:{src:r("9e40")}})])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"accordion"},t._l(t.channels1,(function(e,o){return a("div",{key:o,staticClass:"accordion-item"},[a("input",{staticClass:"accordion-item-input",attrs:{type:"checkbox",id:"accordion-"+e.index}}),a("label",{staticClass:"accordion-item-triger",attrs:{for:"accordion-"+e.index}},[a("div",{staticClass:"accordion-block"},[a("div",{staticClass:"accordion-block-text"},[a("div",{staticClass:"row"},[a("div",{staticClass:"accordion-icon-arrow col-md-1",on:{click:function(r){return t.showProgram(e)}}},[a("img",{attrs:{src:r("7105")}})]),a("div",{staticClass:"accordion-text-h col-md-1 ",on:{click:function(r){return t.showProgram(e)}}},[a("h3",[t._v(t._s(e.button))])]),a("div",{staticClass:"accordion-text-h col-md-3"},[a("h3",{on:{click:function(r){return t.showProgram(e)}}},[t._v(t._s(e.alias))]),a("a",{staticClass:"a",attrs:{href:e.url}},[t._v(" "+t._s(e.url)+" ")])]),a("div",{staticClass:"accordion-text-p col-md-7",on:{click:function(r){return t.showProgram(e)}}},[a("p",[t._v(t._s(e.description))])])])])])])])})),0)])])]),t.programVisible?a("div",[a("div",{staticClass:"modalDialog"},[a("div",{staticClass:"modal-dialog modal-dialog-scrollable"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Телепрограмма канала "+t._s(t.programName)+" ")]),a("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Закрыть"},on:{click:function(e){return t.closeProgram()}}})]),a("div",{staticClass:"modal-body"},[a("div",[t._v(" "+t._s(t.xvid)+" ")]),t._l(t.programs1,(function(e,r){return a("div",{key:r},[a("p",[t._v(" "+t._s(e.start)+"   "+t._s(e.title)+" ")]),a("p",[t._v(" "+t._s(e.desc)+" ")])])}))],2),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.closeProgram()}}},[t._v("Закрыть")])])])])])]):t._e()])},p=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:" col content-program"},[r("div",{staticClass:"cont-program-text",attrs:{id:"program-text"}},[r("h1",{attrs:{id:"h1"}},[t._v("Блок телепрограмм Пермского телевидения")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-group-text",attrs:{id:"search"}},[a("img",{attrs:{src:r("66d7")}})])}],m={data(){return{channel:"",programVisible:!1,programName:"",xvid:""}},computed:{channels1(){let t=this.channels;return t=t.filter(t=>-1!==t.description.toUpperCase().indexOf(this.channel.toUpperCase())),t},channels(){return this.$store.getters.channels},programs1(){let t=this.$store.getters.programs;if(console.log("p1:",t),0!==t.length){let e=Object.keys(t),r=[];for(let a=0;a<e.length;a++)r=t[e[a]];return r}this.programText=""}},methods:{showProgram(t){this.$store.dispatch("programs",t.xvid),this.programName=t.alias,this.programVisible=!0},closeProgram(){this.programVisible=!1},setData(){this.$store.dispatch("channels")}},created(){this.setData()}},h=m,g=(r("5bcf"),Object(n["a"])(h,d,p,!1,null,"0d50861d",null)),f=g.exports;a["a"].use(u["a"]);const v=[{path:"/",name:"Home",component:f}],b=new u["a"]({mode:"history",base:"/",routes:v});var _=b,C=r("2f62"),w=r("bc3a"),x=r.n(w);a["a"].use(C["a"],x.a);var y=new C["a"].Store({state:{channels:[],programs:[]},mutations:{channels(t,e){t.channels=e},programs(t,e){t.programs=e}},actions:{async channels({commit:t}){await x()({method:"get",url:"http://epg.domru.ru/channel/list?domain=perm"}).then((function(e){200===e.status&&(console.log("channels",e),t("channels",e.data))})).catch((function(t){403===t.response.status&&console.log("error",t)}))},async programs({commit:t},e){let r=new Date;console.log("date1",r);let a=r.getDate(),o=r.getMonth()+1,s=r.getUTCFullYear(),n=s+"-"+o+"-"+a;console.log("date1",n);let i=new Date;i.setDate(i.getDate()+1);let c=i.getDate(),l=i.getMonth()+1,u=i.getUTCFullYear(),d=u+"-"+l+"-"+c;console.log("date2",d),await x()({method:"get",url:"http://epg.domru.ru/program/list?domain=perm&date_from="+n+"&date_to="+d+"&xvid[0]="+e}).then((function(r){200===r.status&&(console.log("programs",r.data),console.log("xvid",e),t("programs",r.data))})).catch((function(t){403===t.response.status&&console.log("error",t)}))}},getters:{channels(t){return t.channels.sort((t,e)=>+t.button-+e.button)},programs(t){return t.programs}}});a["a"].config.productionTip=!1,new a["a"]({router:_,store:y,render:function(t){return t(l)}}).$mount("#app")},"5bcf":function(t,e,r){"use strict";r("dd12")},"66d7":function(t,e,r){t.exports=r.p+"img/icon-search.bba181e8.svg"},7105:function(t,e,r){t.exports=r.p+"img/icon-down-arrow.0d6509d2.svg"},"9e40":function(t,e,r){t.exports=r.p+"img/icon-close.f8313160.svg"},dd12:function(t,e,r){}});
//# sourceMappingURL=app.9ab9b818.js.map